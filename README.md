# SQKal - A Simple SQL Engine

SQKal is an educational SQL database engine built from scratch in TypeScript, running on Node.js. It is designed to demonstrate the core principles of database architecture with zero external dependencies.

## Core Features

SQKal implements several key components of a traditional database management system, making it a valuable tool for learning and experimentation.

### Strengths & Architecture

*   **Layered Design:** The engine features a clean separation between the storage layer, the in-memory buffer manager, and the query processor.

*   **Efficient Storage Engine:**
    *   **Page-Based:** The database file is organized into fixed-size pages for efficient I/O.
    *   **Slotted Pages:** Implements a slotted page structure, allowing for efficient row insertion, deletion, and space management without fragmentation.

*   **Intelligent Buffer Management:**
    *   A `BufferPoolManager` caches frequently accessed pages in memory to minimize disk reads.
    *   Implements the **LRU (Least Recently Used)** page replacement policy to intelligently manage the cache.
    *   Uses a **pinning mechanism** to prevent critical, in-use pages from being evicted.

*   **Robust Query Processor:**
    *   Features a hand-written, two-stage parser (**Tokenizer -> AST Builder**) for robust and extensible SQL parsing.
    *   Supports `CREATE TABLE`, `INSERT`, `SELECT` (with `*` and column projection), and `DELETE` commands.
    *   Includes support for simple `WHERE` clauses (`=`).

*   **Self-Contained Metadata:**
    *   Table schemas are stored in a compact, binary format within the database itself in a dedicated **Catalog**, making the engine fully self-describing.

## Usage Example

```typescript
import { Database } from './dist/classes/database.js';

const db = new Database('./mydb.db');
await db.open();

// Create a table, insert data, and query it
await db.query('CREATE TABLE users (id INT, name VARCHAR)');
await db.query("INSERT INTO users VALUES (1, 'Alice')");
const users = await db.query('SELECT * FROM users WHERE id = 1');

console.log(users); // Output: [{ id: 1, name: 'Alice' }]

await db.close();
```

## ⚠️ Not for Production Use

This project is an educational tool and is not intended for production environments. It lacks many features of a production-grade database, such as concurrency control, transactions, advanced indexing, and comprehensive error handling.

## License

MIT License - Free for educational use.

## Disclaimer

This `README.md` file was generated by an AI assistant to provide a comprehensive overview of the project. While it aims to be accurate, the underlying source code was written by a human developer and stands as the ground truth.

## Acknowledgments

Built using core Node.js modules only.
